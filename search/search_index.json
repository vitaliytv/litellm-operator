{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"LiteLLM Operator","text":"<p>A Kubernetes operator for managing LiteLLM resources in your cluster.</p>"},{"location":"#overview","title":"Overview","text":"<p>The LiteLLM Operator simplifies the management of LiteLLM resources in Kubernetes environments by providing custom resource definitions (CRDs) and controllers for:</p> <ul> <li>Virtual Keys - API key management for LiteLLM proxy</li> <li>Users - User account management and authentication</li> <li>Teams - Team-based access control and organization</li> <li>Team Member Associations - Relationships between users and teams</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<p>The operator is designed to work alongside your LiteLLM deployment, providing a Kubernetes-native way to manage authentication and authorization resources.</p> <p></p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83d\udd10 Secure API Key Management - Create and manage virtual keys for LiteLLM proxy access</li> <li>\ud83d\udc65 User Management - Define and manage user accounts with role-based access</li> <li>\ud83c\udfe2 Team Organization - Group users into teams with shared permissions</li> <li>\ud83d\udd17 Association Management - Flexible user-team relationships</li> <li>\ud83d\ude80 Kubernetes Native - Built using the Operator SDK with standard Kubernetes practices</li> <li>\ud83d\udcca Observability - Built-in metrics and monitoring capabilities</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Ready to get started? Check out our installation guide to deploy the operator in your cluster.</p> <pre><code># Helm - from OCI registry (recommended)\nhelm install --namespace litellm litellm-operator oci://ghcr.io/bbdsoftware/charts/litellm-operator:&lt;version&gt;\n\n# Helm - from local chart\nhelm install --namespace litellm litellm-operator ./helm\n\n# Kustomize - from local chart\nkubectl --namespace litellm apply -k config/default\n</code></pre>"},{"location":"#resources","title":"Resources","text":"<ul> <li>Getting Started - Installation and setup</li> <li>User Guide - How to use the operator resources</li> <li>LiteLLM Instances - Deploy and manage LiteLLM proxy servers</li> <li>Users - User account management and authentication</li> <li>Teams - Team-based access control and organisation</li> <li>Team Member Associations - User-team relationships</li> <li>Virtual Keys - API key management for LiteLLM proxy</li> <li>Developer Guide - Architecture and development info</li> <li>Release Process - How to create and manage releases</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"#community","title":"Community","text":"<ul> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcac Discussions</li> <li>\ud83e\udd1d Contributing</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the Apache License 2.0 - see the LICENSE file for details. </p>"},{"location":"api-reference/auth.litellm.ai/","title":"API Reference","text":""},{"location":"api-reference/auth.litellm.ai/#packages","title":"Packages","text":"<ul> <li>auth.litellm.ai/v1alpha1</li> </ul>"},{"location":"api-reference/auth.litellm.ai/#authlitellmaiv1alpha1","title":"auth.litellm.ai/v1alpha1","text":"<p>Package v1alpha1 contains API Schema definitions for the auth v1alpha1 API group</p>"},{"location":"api-reference/auth.litellm.ai/#resource-types","title":"Resource Types","text":"<ul> <li>Team</li> <li>TeamList</li> <li>TeamMemberAssociation</li> <li>TeamMemberAssociationList</li> <li>User</li> <li>UserList</li> <li>VirtualKey</li> <li>VirtualKeyList</li> </ul>"},{"location":"api-reference/auth.litellm.ai/#connectionref","title":"ConnectionRef","text":"<p>ConnectionRef defines how to connect to a LiteLLM instance</p> <p>Appears in: - TeamMemberAssociationSpec - TeamSpec - UserSpec - VirtualKeySpec</p> Field Description Default Validation <code>secretRef</code> SecretRef SecretRef references a secret containing connection details <code>instanceRef</code> InstanceRef InstanceRef references a LiteLLM instance"},{"location":"api-reference/auth.litellm.ai/#instanceref","title":"InstanceRef","text":"<p>InstanceRef references a LiteLLM instance</p> <p>Appears in: - ConnectionRef</p> Field Description Default Validation <code>name</code> string Name is the name of the LiteLLM instance <code>namespace</code> string Namespace is the namespace of the LiteLLM instance (defaults to the same namespace as the Team)"},{"location":"api-reference/auth.litellm.ai/#secretkeys","title":"SecretKeys","text":"<p>SecretKeys defines the keys in a secret for connection details</p> <p>Appears in: - SecretRef</p> Field Description Default Validation <code>masterKey</code> string MasterKey is the key in the secret containing the master key <code>url</code> string URL is the key in the secret containing the LiteLLM URL"},{"location":"api-reference/auth.litellm.ai/#secretref","title":"SecretRef","text":"<p>SecretRef references a secret containing connection details</p> <p>Appears in: - ConnectionRef</p> Field Description Default Validation <code>name</code> string Name is the name of the secret <code>keys</code> SecretKeys Keys defines the keys in the secret that contain connection details"},{"location":"api-reference/auth.litellm.ai/#team","title":"Team","text":"<p>Team is the Schema for the teams API</p> <p>Appears in: - TeamList</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>Team</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ObjectMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>spec</code> TeamSpec <code>status</code> TeamStatus"},{"location":"api-reference/auth.litellm.ai/#teamlist","title":"TeamList","text":"<p>TeamList contains a list of Team</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>TeamList</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ListMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>items</code> Team array"},{"location":"api-reference/auth.litellm.ai/#teammemberassociation","title":"TeamMemberAssociation","text":"<p>TeamMemberAssociation is the Schema for the teammemberassociations API</p> <p>Appears in: - TeamMemberAssociationList</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>TeamMemberAssociation</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ObjectMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>spec</code> TeamMemberAssociationSpec <code>status</code> TeamMemberAssociationStatus"},{"location":"api-reference/auth.litellm.ai/#teammemberassociationlist","title":"TeamMemberAssociationList","text":"<p>TeamMemberAssociationList contains a list of TeamMemberAssociation</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>TeamMemberAssociationList</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ListMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>items</code> TeamMemberAssociation array"},{"location":"api-reference/auth.litellm.ai/#teammemberassociationspec","title":"TeamMemberAssociationSpec","text":"<p>TeamMemberAssociationSpec defines the desired state of TeamMemberAssociation</p> <p>Appears in: - TeamMemberAssociation</p> Field Description Default Validation <code>connectionRef</code> ConnectionRef ConnectionRef defines how to connect to the LiteLLM instance Required: {}  <code>maxBudgetInTeam</code> string MaxBudgetInTeam is the maximum budget for the user in the team <code>teamAlias</code> string TeamID is the ID of the team Required: {}  <code>userEmail</code> string UserEmail is the email of the user Required: {}  <code>role</code> string Role is the role of the user - one of \"admin\" or \"user\" Enum: [admin user] Required: {}"},{"location":"api-reference/auth.litellm.ai/#teammemberassociationstatus","title":"TeamMemberAssociationStatus","text":"<p>TeamMemberAssociationStatus defines the observed state of TeamMemberAssociation</p> <p>Appears in: - TeamMemberAssociation</p> Field Description Default Validation <code>teamAlias</code> string TeamAlias is the alias of the team <code>teamID</code> string TeamID is the ID of the team <code>userEmail</code> string UserEmail is the email of the user <code>userID</code> string UserID is the ID of the user <code>conditions</code> Condition array"},{"location":"api-reference/auth.litellm.ai/#teammemberwithrole","title":"TeamMemberWithRole","text":"<p>Appears in: - TeamStatus</p> Field Description Default Validation <code>userID</code> string UserID is the ID of the user <code>userEmail</code> string UserEmail is the email of the user <code>role</code> string Role is the role of the user - one of \"admin\" or \"user\""},{"location":"api-reference/auth.litellm.ai/#teamspec","title":"TeamSpec","text":"<p>TeamSpec defines the desired state of Team</p> <p>Appears in: - Team</p> Field Description Default Validation <code>connectionRef</code> ConnectionRef ConnectionRef defines how to connect to the LiteLLM instance Required: {}  <code>blocked</code> boolean Blocked is a flag indicating if the team is blocked or not - will stop all calls from keys with this team_id <code>budgetDuration</code> string BudgetDuration - Budget is reset at the end of specified duration. If not set, budget is never reset. You can set duration as seconds (\"30s\"), minutes (\"30m\"), hours (\"30h\"), days (\"30d\"), months (\"1mo\"). <code>guardrails</code> string array Guardrails are guardrails for the team <code>maxBudget</code> string MaxBudget is the maximum budget for the team <code>metadata</code> object (keys:string, values:string) Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>modelAliases</code> object (keys:string, values:string) ModelAliases are model aliases for the team <code>models</code> string array Models is the list of models that are associated with the team. All keys for this team_id will have at most, these models. If empty, assumes all models are allowed. <code>organizationID</code> string OrganizationID is the ID of the organization that the team belongs to. If not set, the team will be created with no organization. <code>rpmLimit</code> integer RPMLimit is the maximum requests per minute limit for the team - all keys associated with this team_id will have at max this RPM limit <code>tags</code> string array Tags for tracking spend and/or doing tag-based routing. Requires Enterprise license <code>teamAlias</code> string TeamAlias is the alias of the team Required: {}  <code>teamID</code> string TeamID is the ID of the team. If not set, a unique ID will be generated. <code>teamMemberPermissions</code> string array TeamMemberPermissions is the list of routes that non-admin team members can access. Example: [\"/key/generate\", \"/key/update\", \"/key/delete\"] <code>tpmLimit</code> integer TPMLimit is the maximum tokens per minute limit for the team - all keys with this team_id will have at max this TPM limit"},{"location":"api-reference/auth.litellm.ai/#teamstatus","title":"TeamStatus","text":"<p>TeamStatus defines the observed state of Team</p> <p>Appears in: - Team</p> Field Description Default Validation <code>blocked</code> boolean Blocked is a flag indicating if the team is blocked or not <code>budgetDuration</code> string BudgetDuration - Budget is reset at the end of specified duration. If not set, budget is never reset. <code>budgetResetAt</code> string BudgetResetAt is the date and time when the budget will be reset <code>createdAt</code> string CreatedAt is the date and time when the team was created <code>liteLLMModelTable</code> string LiteLLMModelTable is the model table for the team <code>maxBudget</code> string MaxBudget is the maximum budget for the team <code>maxParallelRequests</code> integer MaxParallelRequests is the maximum number of parallel requests allowed <code>membersWithRole</code> TeamMemberWithRole array MembersWithRole is the list of members with role <code>modelID</code> string ModelID is the ID of the model <code>models</code> string array Models is the list of models that are associated with the team. All keys for this team_id will have at most, these models. <code>organizationID</code> string OrganizationID is the ID of the organization that the team belongs to <code>rpmLimit</code> integer RPMLimit is the maximum requests per minute limit for the team - all keys associated with this team_id will have at max this RPM limit <code>spend</code> string Spend is the current spend of the team <code>tags</code> string array Tags for tracking spend and/or doing tag-based routing. Requires Enterprise license <code>teamAlias</code> string TeamAlias is the alias of the team <code>teamID</code> string TeamID is the ID of the team <code>teamMemberPermissions</code> string array TeamMemberPermissions is the list of routes that non-admin team members can access <code>tpmLimit</code> integer TPMLimit is the maximum tokens per minute limit for the team - all keys with this team_id will have at max this TPM limit <code>updatedAt</code> string UpdatedAt is the date and time when the team was last updated <code>conditions</code> Condition array"},{"location":"api-reference/auth.litellm.ai/#user","title":"User","text":"<p>User is the Schema for the users API</p> <p>Appears in: - UserList</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>User</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ObjectMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>spec</code> UserSpec <code>status</code> UserStatus"},{"location":"api-reference/auth.litellm.ai/#userlist","title":"UserList","text":"<p>UserList contains a list of User</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>UserList</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ListMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>items</code> User array"},{"location":"api-reference/auth.litellm.ai/#userspec","title":"UserSpec","text":"<p>UserSpec defines the desired state of User</p> <p>Appears in: - User</p> Field Description Default Validation <code>connectionRef</code> ConnectionRef ConnectionRef defines how to connect to the LiteLLM instance Required: {}  <code>aliases</code> object (keys:string, values:string) Aliases is the model aliases for the user <code>allowedCacheControls</code> string array AllowedCacheControls is the list of allowed cache control values <code>autoCreateKey</code> boolean AutoCreateKey is whether to automatically create a key for the user <code>blocked</code> boolean Blocked is whether the user is blocked <code>budgetDuration</code> string BudgetDuration - Budget is reset at the end of specified duration. If not set, budget is never reset. You can set duration as seconds (\"30s\"), minutes (\"30m\"), hours (\"30h\"), days (\"30d\"), months (\"1mo\"). <code>duration</code> string Duration is the duration for the key auto-created on /user/new <code>guardrails</code> string array Guardrails is the list of active guardrails for the user <code>keyAlias</code> string KeyAlias is the optional alias of the key if autoCreateKey is true <code>maxBudget</code> string MaxBudget is the maximum budget for the user <code>maxParallelRequests</code> integer MaxParallelRequests is the maximum number of parallel requests for the user <code>metadata</code> object (keys:string, values:string) Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>modelMaxBudget</code> object (keys:string, values:string) ModelMaxBudget is the model specific maximum budget <code>modelRPMLimit</code> object (keys:string, values:string) ModelRPMLimit is the model specific maximum requests per minute <code>modelTPMLimit</code> object (keys:string, values:string) ModelTPMLimit is the model specific maximum tokens per minute <code>models</code> string array Models is the list of models that the user is allowed to use <code>permissions</code> object (keys:string, values:string) Permissions is the user-specific permissions <code>rpmLimit</code> integer RPMLimit is the maximum requests per minute for the user <code>sendInviteEmail</code> boolean SendInviteEmail is whether to send an invite email to the user - NOTE: the user endpoint will return an error if email alerting is not configured and this is enabled, but the user will still be created. <code>softBudget</code> string SoftBudget - alert when user exceeds this budget, doesn't block requests <code>spend</code> string Spend is the amount spent by user <code>ssoUserID</code> string SSOUserID is the id of the user in the SSO provider <code>teams</code> string array Teams is the list of teams that the user is a member of <code>tpmLimit</code> integer TPMLimit is the maximum tokens per minute for the user <code>userAlias</code> string UserAlias is the alias of the user <code>userEmail</code> string UserEmail is the email of the user Required: {}  <code>userID</code> string UserID is the ID of the user. If not set, a unique ID will be generated. <code>userRole</code> string UserRole is the role of the user - one of \"proxy_admin\", \"proxy_admin_viewer\", \"internal_user\", \"internal_user_viewer\", \"team\", \"customer\""},{"location":"api-reference/auth.litellm.ai/#userstatus","title":"UserStatus","text":"<p>UserStatus defines the observed state of User</p> <p>Appears in: - User</p> Field Description Default Validation <code>allowedCacheControls</code> string array AllowedCacheControls is the list of allowed cache control values <code>allowedRoutes</code> string array AllowedRoutes is the list of allowed routes <code>aliases</code> object (keys:string, values:string) Aliases is the model aliases for the user <code>blocked</code> boolean Blocked is whether the user is blocked <code>budgetDuration</code> string BudgetDuration - Budget is reset at the end of specified duration <code>budgetID</code> string BudgetID is the ID of the budget <code>config</code> object (keys:string, values:string) Config is the user-specific config <code>createdAt</code> string CreatedAt is the date and time when the user was created <code>createdBy</code> string CreatedBy is the user who created this user <code>duration</code> string Duration is the duration for the key <code>enforcedParams</code> string array EnforcedParams is the list of enforced parameters <code>expires</code> string Expires is the date and time when the user will expire <code>guardrails</code> string array Guardrails is the list of active guardrails <code>keyAlias</code> string KeyAlias is the alias of the key <code>keyName</code> string KeyName is the name of the key <code>keySecretRef</code> string KeySecretRef is the reference to the secret containing the user key <code>litellmBudgetTable</code> string LiteLLMBudgetTable is the budget table name <code>maxBudget</code> string MaxBudget is the maximum budget for the user <code>maxParallelRequests</code> integer MaxParallelRequests is the maximum number of parallel requests <code>modelMaxBudget</code> object (keys:string, values:string) ModelMaxBudget is the model specific maximum budget <code>modelRPMLimit</code> object (keys:string, values:string) ModelRPMLimit is the model specific maximum requests per minute <code>modelTPMLimit</code> object (keys:string, values:string) ModelTPMLimit is the model specific maximum tokens per minute <code>models</code> string array Models is the list of models that the user is allowed to use <code>permissions</code> object (keys:string, values:string) Permissions is the user-specific permissions <code>rpmLimit</code> integer RPMLimit is the maximum requests per minute <code>spend</code> string Spend is the amount spent by user <code>tags</code> string array Tags for tracking spend and/or doing tag-based routing. Requires Enterprise license <code>teams</code> string array Teams is the list of teams that the user is a member of <code>token</code> string Token is the user's token <code>tpmLimit</code> integer TPMLimit is the maximum tokens per minute <code>updatedAt</code> string UpdatedAt is the date and time when the user was last updated <code>updatedBy</code> string UpdatedBy is the user who last updated this user <code>userAlias</code> string UserAlias is the alias of the user <code>userEmail</code> string UserEmail is the email of the user <code>userID</code> string UserID is the unique user id <code>userRole</code> string UserRole is the role of the user <code>conditions</code> Condition array"},{"location":"api-reference/auth.litellm.ai/#virtualkey","title":"VirtualKey","text":"<p>VirtualKey is the Schema for the virtualkeys API</p> <p>Appears in: - VirtualKeyList</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>VirtualKey</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ObjectMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>spec</code> VirtualKeySpec <code>status</code> VirtualKeyStatus"},{"location":"api-reference/auth.litellm.ai/#virtualkeylist","title":"VirtualKeyList","text":"<p>VirtualKeyList contains a list of VirtualKey</p> Field Description Default Validation <code>apiVersion</code> string <code>auth.litellm.ai/v1alpha1</code> <code>kind</code> string <code>VirtualKeyList</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ListMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>items</code> VirtualKey array"},{"location":"api-reference/auth.litellm.ai/#virtualkeyspec","title":"VirtualKeySpec","text":"<p>VirtualKeySpec defines the desired state of VirtualKey</p> <p>Appears in: - VirtualKey</p> Field Description Default Validation <code>connectionRef</code> ConnectionRef ConnectionRef defines how to connect to the LiteLLM instance Required: {}  <code>aliases</code> object (keys:string, values:string) Aliases maps additional aliases for the key <code>allowedCacheControls</code> string array AllowedCacheControls defines allowed cache control settings <code>allowedRoutes</code> string array AllowedRoutes defines allowed API routes <code>blocked</code> boolean Blocked indicates if the key is blocked <code>budgetDuration</code> string BudgetDuration specifies the duration for budget tracking <code>budgetID</code> string BudgetID is the identifier for the budget <code>config</code> object (keys:string, values:string) Config contains additional configuration settings <code>duration</code> string Duration specifies how long the key is valid <code>enforcedParams</code> string array EnforcedParams lists parameters that must be included in requests <code>guardrails</code> string array Guardrails defines guardrail settings <code>key</code> string Key is the actual key value <code>keyAlias</code> string KeyAlias is the user defined key alias Required: {}  <code>maxBudget</code> string MaxBudget sets the maximum budget limit <code>maxParallelRequests</code> integer MaxParallelRequests limits concurrent requests <code>metadata</code> object (keys:string, values:string) Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>modelMaxBudget</code> object (keys:string, values:string) ModelMaxBudget sets budget limits per model <code>modelRPMLimit</code> object (keys:string, values:integer) ModelRPMLimit sets RPM limits per model <code>modelTPMLimit</code> object (keys:string, values:integer) ModelTPMLimit sets TPM limits per model <code>models</code> string array Models specifies which models can be used <code>permissions</code> object (keys:string, values:string) Permissions defines key permissions <code>rpmLimit</code> integer RPMLimit sets global RPM limit <code>sendInviteEmail</code> boolean SendInviteEmail indicates whether to send an invite email <code>softBudget</code> string SoftBudget sets a soft budget limit <code>spend</code> string Spend tracks the current spend amount <code>tags</code> string array Tags for tracking spend and/or doing tag-based routing. Requires Enterprise license <code>teamID</code> string TeamID identifies the team associated with the key <code>tpmLimit</code> integer TPMLimit sets global TPM limit <code>userID</code> string UserID identifies the user associated with the key"},{"location":"api-reference/auth.litellm.ai/#virtualkeystatus","title":"VirtualKeyStatus","text":"<p>VirtualKeyStatus defines the observed state of VirtualKey</p> <p>Appears in: - VirtualKey</p> Field Description Default Validation <code>aliases</code> object (keys:string, values:string) Aliases maps additional aliases for the key <code>allowedCacheControls</code> string array AllowedCacheControls defines allowed cache control settings <code>allowedRoutes</code> string array AllowedRoutes defines allowed API routes <code>blocked</code> boolean Blocked indicates if the key is blocked <code>budgetDuration</code> string BudgetDuration is the duration of the budget <code>budgetID</code> string BudgetID is the identifier for the budget <code>budgetResetAt</code> string BudgetResetAt is the date and time when the budget will reset <code>config</code> object (keys:string, values:string) Config contains additional configuration settings <code>createdAt</code> string CreatedAt is the date and time when the key was created <code>createdBy</code> string CreatedBy tracks who created the key <code>duration</code> string Duration specifies how long the key is valid <code>enforcedParams</code> string array EnforcedParams lists parameters that must be included in requests <code>expires</code> string Expires is the date and time when the key will expire <code>guardrails</code> string array Guardrails defines guardrail settings <code>keyAlias</code> string KeyAlias is the user defined key alias <code>keyID</code> string KeyID is the generated ID of the key <code>keyName</code> string KeyName is the redacted secret key <code>keySecretRef</code> string KeySecretRef is the reference to the secret containing the key <code>liteLLMBudgetTable</code> string LiteLLMBudgetTable is the budget table reference <code>maxBudget</code> string MaxBudget is the maximum budget for the key <code>maxParallelRequests</code> integer MaxParallelRequests limits concurrent requests <code>models</code> string array Models specifies which models can be used <code>permissions</code> object (keys:string, values:string) Permissions defines key permissions <code>rpmLimit</code> integer RPMLimit sets global RPM limit <code>spend</code> string Spend tracks the current spend amount <code>tags</code> string array Tags for tracking spend and/or doing tag-based routing. Requires Enterprise license <code>teamID</code> string TeamID identifies the team associated with the key <code>token</code> string Token contains the actual API key <code>tokenID</code> string TokenID is the unique identifier for the token <code>tpmLimit</code> integer TPMLimit sets global TPM limit <code>updatedAt</code> string UpdatedAt is the date and time when the key was last updated <code>updatedBy</code> string UpdatedBy tracks who last updated the key <code>userID</code> string UserID identifies the user associated with the key <code>conditions</code> Condition array"},{"location":"api-reference/litellm.litellm.ai/","title":"API Reference","text":""},{"location":"api-reference/litellm.litellm.ai/#packages","title":"Packages","text":"<ul> <li>litellm.litellm.ai/v1alpha1</li> </ul>"},{"location":"api-reference/litellm.litellm.ai/#litellmlitellmaiv1alpha1","title":"litellm.litellm.ai/v1alpha1","text":"<p>Package v1alpha1 contains API Schema definitions for the litellm v1alpha1 API group.</p>"},{"location":"api-reference/litellm.litellm.ai/#resource-types","title":"Resource Types","text":"<ul> <li>LiteLLMInstance</li> <li>LiteLLMInstanceList</li> </ul>"},{"location":"api-reference/litellm.litellm.ai/#databasesecretkeys","title":"DatabaseSecretKeys","text":"<p>Appears in: - DatabaseSecretRef</p> Field Description Default Validation <code>hostSecret</code> string <code>passwordSecret</code> string <code>usernameSecret</code> string <code>dbnameSecret</code> string"},{"location":"api-reference/litellm.litellm.ai/#databasesecretref","title":"DatabaseSecretRef","text":"<p>Appears in: - LiteLLMInstanceSpec</p> Field Description Default Validation <code>nameRef</code> string <code>keys</code> DatabaseSecretKeys"},{"location":"api-reference/litellm.litellm.ai/#gateway","title":"Gateway","text":"<p>Appears in: - LiteLLMInstanceSpec</p> Field Description Default Validation <code>enabled</code> boolean <code>host</code> string"},{"location":"api-reference/litellm.litellm.ai/#ingress","title":"Ingress","text":"<p>Appears in: - LiteLLMInstanceSpec</p> Field Description Default Validation <code>enabled</code> boolean <code>host</code> string"},{"location":"api-reference/litellm.litellm.ai/#litellminstance","title":"LiteLLMInstance","text":"<p>LiteLLMInstance is the Schema for the litellminstances API.</p> <p>Appears in: - LiteLLMInstanceList</p> Field Description Default Validation <code>apiVersion</code> string <code>litellm.litellm.ai/v1alpha1</code> <code>kind</code> string <code>LiteLLMInstance</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ObjectMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>spec</code> LiteLLMInstanceSpec <code>status</code> LiteLLMInstanceStatus"},{"location":"api-reference/litellm.litellm.ai/#litellminstancelist","title":"LiteLLMInstanceList","text":"<p>LiteLLMInstanceList contains a list of LiteLLMInstance.</p> Field Description Default Validation <code>apiVersion</code> string <code>litellm.litellm.ai/v1alpha1</code> <code>kind</code> string <code>LiteLLMInstanceList</code> <code>kind</code> string Kind is a string value representing the REST resource this object represents.Servers may infer this from the endpoint the client submits requests to.Cannot be updated.In CamelCase.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds <code>apiVersion</code> string APIVersion defines the versioned schema of this representation of an object.Servers should convert recognized schemas to the latest internal value, andmay reject unrecognized values.More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources <code>metadata</code> ListMeta Refer to Kubernetes API documentation for fields of <code>metadata</code>. <code>items</code> LiteLLMInstance array"},{"location":"api-reference/litellm.litellm.ai/#litellminstancespec","title":"LiteLLMInstanceSpec","text":"<p>LiteLLMInstanceSpec defines the desired state of LiteLLMInstance.</p> <p>Appears in: - LiteLLMInstance</p> Field Description Default Validation <code>image</code> string ghcr.io/berriai/litellm-database:main-v1.74.9.rc.1 <code>masterKey</code> string <code>databaseSecretRef</code> DatabaseSecretRef <code>redisSecretRef</code> RedisSecretRef <code>ingress</code> Ingress <code>gateway</code> Gateway"},{"location":"api-reference/litellm.litellm.ai/#litellminstancestatus","title":"LiteLLMInstanceStatus","text":"<p>LiteLLMInstanceStatus defines the observed state of LiteLLMInstance.</p> <p>Appears in: - LiteLLMInstance</p> Field Description Default Validation <code>observedGeneration</code> integer ObservedGeneration represents the .metadata.generation that the condition was set based upon <code>lastUpdated</code> Time LastUpdated represents the last time the status was updated <code>configMapCreated</code> boolean Resource creation status <code>secretCreated</code> boolean <code>deploymentCreated</code> boolean <code>serviceCreated</code> boolean <code>ingressCreated</code> boolean <code>conditions</code> Condition array Conditions represent the latest available observations of a LiteLLM instance's state"},{"location":"api-reference/litellm.litellm.ai/#redissecretkeys","title":"RedisSecretKeys","text":"<p>Appears in: - RedisSecretRef</p> Field Description Default Validation <code>hostSecret</code> string <code>portSecret</code> string <code>passwordSecret</code> string"},{"location":"api-reference/litellm.litellm.ai/#redissecretref","title":"RedisSecretRef","text":"<p>Appears in: - LiteLLMInstanceSpec</p> Field Description Default Validation <code>nameRef</code> string <code>keys</code> RedisSecretKeys"},{"location":"community/code-of-conduct/","title":"Code of Conduct","text":"<p>Our community is dedicated to providing a welcoming and inclusive environment for all contributors and users.</p> <p>Please see our Code of Conduct for the complete guidelines.</p>"},{"location":"community/code-of-conduct/#quick-guidelines","title":"Quick Guidelines","text":"<ul> <li>Be respectful - Treat all community members with respect and kindness</li> <li>Be inclusive - Welcome newcomers and help them feel comfortable</li> <li>Be collaborative - Work together constructively and share knowledge</li> <li>Be professional - Keep discussions focused and productive</li> </ul>"},{"location":"community/code-of-conduct/#reporting-issues","title":"Reporting Issues","text":"<p>If you experience or witness behavior that violates our code of conduct, please report it to the maintainers at security@yourdomain.com.</p>"},{"location":"community/code-of-conduct/#enforcement","title":"Enforcement","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful. </p>"},{"location":"community/security/","title":"Security Policy","text":"<p>Security is a top priority for the LiteLLM Operator project. We appreciate your help in responsibly disclosing any security vulnerabilities.</p>"},{"location":"community/security/#reporting-security-vulnerabilities","title":"Reporting Security Vulnerabilities","text":"<p>Please see our Security Policy for complete information on:</p> <ul> <li>How to report vulnerabilities</li> <li>Our response process</li> <li>Supported versions</li> </ul>"},{"location":"community/security/#quick-reference","title":"Quick Reference","text":"<p>\u26a0\ufe0f DO NOT open public issues for security vulnerabilities.</p> <p>\u2705 DO email security issues to security@yourdomain.com</p>"},{"location":"community/security/#security-best-practices","title":"Security Best Practices","text":"<p>When using the LiteLLM Operator:</p>"},{"location":"community/security/#1-secure-your-virtual-keys","title":"1. Secure Your Virtual Keys","text":"<ul> <li>Rotate virtual keys regularly</li> <li>Use appropriate budget limits</li> <li>Monitor key usage</li> </ul>"},{"location":"community/security/#2-rbac-configuration","title":"2. RBAC Configuration","text":"<ul> <li>Follow the principle of least privilege</li> <li>Review and audit permissions regularly</li> <li>Use namespaces to isolate resources</li> </ul>"},{"location":"community/security/#3-network-security","title":"3. Network Security","text":"<ul> <li>Use network policies to restrict traffic</li> <li>Enable TLS for all communications</li> <li>Secure your LiteLLM endpoint</li> </ul>"},{"location":"community/security/#4-monitoring","title":"4. Monitoring","text":"<ul> <li>Enable audit logging</li> <li>Monitor operator logs</li> <li>Set up alerts for unusual activity</li> </ul>"},{"location":"community/security/#response-timeline","title":"Response Timeline","text":"<ul> <li>Initial response: Within 24 hours</li> <li>Status update: Within 72 hours</li> <li>Resolution: Varies by severity</li> </ul> <p>Thank you for helping keep our community safe! </p>"},{"location":"developer-guide/architecture/","title":"Architecture","text":""},{"location":"developer-guide/architecture/#architecture","title":"Architecture","text":"<p>The following diagram indicates the general architecture of LiteLLM acting as a proxy:</p> <p></p> <p>The following diagram indicates the architecture and responsibilities of the operator, as defined in the scope:</p> <p></p>"},{"location":"developer-guide/contributions/","title":"Code of Conduct","text":"<p>Our community is dedicated to providing a welcoming and inclusive environment for all contributors and users.</p> <p>Please see our Code of Conduct.</p>"},{"location":"developer-guide/development/","title":"Development","text":""},{"location":"developer-guide/development/#getting-started","title":"Getting Started","text":"<p>It is expected that the operator will be deployed in the same namespace as the litellm service.</p>"},{"location":"developer-guide/development/#prerequisites","title":"Prerequisites","text":"<ul> <li>go version v1.22.0+</li> <li>docker version 17.03+.</li> <li>kubectl version v1.11.3+.</li> <li>Access to a Kubernetes v1.11.3+ cluster.</li> <li>Kind (optional, for local development)</li> </ul>"},{"location":"developer-guide/development/#local-development-setup","title":"Local Development Setup","text":""},{"location":"developer-guide/development/#quick-start-with-kind-cluster","title":"Quick Start with Kind Cluster","text":"<p>For local development, you can use the provided Makefile targets to set up a complete development environment:</p> <pre><code># Create a Kind cluster and bootstrap the development environment\nmake dev-cluster-bootstrap\n\n# Or recreate the entire cluster if needed\nmake dev-cluster-recreate\n</code></pre> <p>This will: 1. Create a Kind cluster (if it doesn't exist) 2. Generate manifests and install CRDs 3. Install extra samples and basic samples 4. Set up the complete development environment 5. You will be able to ruin the controller locally thrp you IDE of choise</p>"},{"location":"developer-guide/development/#manual-development-setup","title":"Manual Development Setup","text":"<p>If you prefer to set up manually or use an existing cluster:</p> <p>Generate manifests and install CRDs: <pre><code>make install\n</code></pre></p> <p>Install sample resources: <pre><code># Install basic samples\nmake install-samples\n\n# Install extra samples (includes namespace and PostgreSQL cluster)\nmake install-samples-extra\n</code></pre></p>"},{"location":"developer-guide/development/#development-workflow","title":"Development Workflow","text":""},{"location":"developer-guide/development/#code-generation-and-validation","title":"Code Generation and Validation","text":"<pre><code># Generate manifests (CRDs, RBAC, webhooks)\nmake manifests\n\n# Generate code (DeepCopy methods)\nmake generate\n\n# Format code\nmake fmt\n\n# Run static analysis\nmake vet\n\n# Run linter\nmake lint\n\n# Run linter with auto-fixes\nmake lint-fix\n</code></pre>"},{"location":"developer-guide/development/#testing","title":"Testing","text":"<pre><code># Run unit tests\nmake test\n\n# Run end-to-end tests (requires Kind cluster)\nmake test-e2e\n</code></pre>"},{"location":"developer-guide/development/#building","title":"Building","text":"<pre><code># Build the manager binary locally\nmake build\n\n# Run the controller locally (for development) in terminal\nmake run\n\n# Build Docker image\nmake docker-build\n\n# Build for multiple platforms\nmake docker-buildx\n</code></pre>"},{"location":"developer-guide/development/#deployment","title":"Deployment","text":""},{"location":"developer-guide/development/#to-deploy-on-the-cluster","title":"To Deploy on the cluster","text":"<p>Build and push your image to the location specified by <code>IMG</code>:</p> <pre><code>make docker-build docker-push IMG=&lt;some-registry&gt;/litellm-operator:tag\n</code></pre> <p>NOTE: This image ought to be published in the personal registry you specified. And it is required to have access to pull the image from the working environment. Make sure you have the proper permission to the registry if the above commands don't work.</p> <p>Install the CRDs into the cluster:</p> <pre><code>make install\n</code></pre> <p>Deploy the Manager to the cluster with the image specified by <code>IMG</code>:</p> <pre><code>make deploy IMG=&lt;some-registry&gt;/litellm-operator:tag\n</code></pre> <p>NOTE: If you encounter RBAC errors, you may need to grant yourself cluster-admin privileges or be logged in as admin.</p> <p>Create instances of your solution You can apply the samples (examples) from the config/sample:</p> <pre><code># Install basic samples\nkubectl apply -k config/samples/\n\n# Or use the Makefile target\nmake install-samples\n</code></pre> <p>NOTE: Ensure that the samples has default values to test it out.</p>"},{"location":"developer-guide/development/#alternative-deployment-methods","title":"Alternative Deployment Methods","text":"<p>Build and load image to Kind cluster: <pre><code>make docker-build docker-load IMG=controller:latest\n</code></pre></p> <p>Generate consolidated installer: <pre><code>make build-installer IMG=&lt;your-image&gt;\n# This creates dist/install.yaml with CRDs and deployment\n</code></pre></p>"},{"location":"developer-guide/development/#to-uninstall","title":"To Uninstall","text":"<p>Delete the instances (CRs) from the cluster:</p> <pre><code># Remove samples\nkubectl delete -k config/samples/\n\n# Or use the Makefile target\nmake uninstall-samples\n</code></pre> <p>Delete the APIs(CRDs) from the cluster:</p> <pre><code>make uninstall\n</code></pre> <p>UnDeploy the controller from the cluster:</p> <pre><code>make undeploy\n</code></pre> <p>Clean up Kind cluster (if using local development): <pre><code>make kind-cluster-delete\n</code></pre></p>"},{"location":"developer-guide/development/#development-tools","title":"Development Tools","text":"<p>The project includes several development tools that are automatically managed:</p> <ul> <li>controller-gen: Generates CRDs, RBAC, and webhook configurations</li> <li>kustomize: Manages Kubernetes manifests</li> <li>envtest: Provides test environment for controller-runtime</li> <li>golangci-lint: Code linting and analysis</li> <li>crd-ref-docs: Generates CRD documentation</li> <li>openapi-generator: Generates OpenAPI specifications</li> </ul> <p>These tools are automatically downloaded to the <code>bin/</code> directory when needed.</p>"},{"location":"developer-guide/development/#environment-variables","title":"Environment Variables","text":"<p>Key environment variables for development:</p> <ul> <li><code>IMG</code>: Docker image for the controller (default: <code>controller:latest</code>)</li> <li><code>VERSION</code>: Project version for bundles (default: <code>0.0.1</code>)</li> <li><code>CONTAINER_TOOL</code>: Container tool to use (default: <code>docker</code>)</li> <li><code>LOCALBIN</code>: Directory for development tools (default: <code>./bin</code>)</li> </ul>"},{"location":"developer-guide/development/#help","title":"Help","text":"<p>To see all available Makefile targets and their descriptions:</p> <pre><code>make help\n</code></pre>"},{"location":"developer-guide/release-process/","title":"Release Process","text":"<p>This document describes the release process for the LiteLLM Operator, including how to create releases, what happens during the release workflow, and how to handle the automated updates.</p>"},{"location":"developer-guide/release-process/#overview","title":"Overview","text":"<p>The LiteLLM Operator uses a fully automated release process that:</p> <ol> <li>Runs tests and validation to ensure code quality</li> <li>Builds and publishes the operator image and artifacts using GoReleaser</li> <li>Creates a GitHub release with release notes and assets</li> <li>Automatically updates manifests and Helm charts (for stable releases only)</li> <li>Publishes Helm charts to the OCI registry</li> </ol>"},{"location":"developer-guide/release-process/#prerequisites","title":"Prerequisites","text":"<p>Before creating a release, ensure you have:</p> <ul> <li>[ ] All tests passing</li> <li>[ ] Documentation updated</li> <li>[ ] CHANGELOG.md updated with release notes</li> <li>[ ] Proper versioning strategy in place</li> </ul>"},{"location":"developer-guide/release-process/#creating-a-release","title":"Creating a Release","text":""},{"location":"developer-guide/release-process/#step-1-prepare-for-release","title":"Step 1: Prepare for Release","text":"<ol> <li>Update the CHANGELOG.md with release notes for the new version</li> <li>Ensure all changes are committed to the main branch</li> <li>Verify the current state of your repository</li> </ol>"},{"location":"developer-guide/release-process/#step-2-create-and-push-a-release-tag","title":"Step 2: Create and Push a Release Tag","text":"<p>The release process is triggered by pushing a semantic version tag:</p> <pre><code># Create a new release tag\ngit tag v1.0.0\n\n# Push the tag to trigger the release workflow\ngit push origin v1.0.0\n</code></pre> <p>Supported tag formats: - <code>v1.0.0</code> - Major release - <code>v1.0.1</code> - Patch release - <code>v1.1.0</code> - Minor release - <code>v1.0.0-rc.1</code> - Release candidate (will skip manifest updates) - <code>v1.0.0-alpha.1</code> - Alpha release (will skip manifest updates) - <code>v1.0.0-beta.1</code> - Beta release (will skip manifest updates)</p> <p>Important: The workflow is configured to ignore pushes to certain paths, so ensure your changes are not in: - Documentation files (<code>**/*.md</code>, <code>docs/**</code>, <code>README.md</code>, etc.) - Helm chart files (<code>deploy/charts/litellm-operator/**</code>, <code>helm/**</code>)</p>"},{"location":"developer-guide/release-process/#step-3-monitor-the-release-workflow","title":"Step 3: Monitor the Release Workflow","text":"<p>The release workflow will automatically:</p> <ol> <li>Run tests and linting to validate code quality</li> <li>Validate the semantic version tag</li> <li>Build and publish the operator image to GitHub Container Registry</li> <li>Create a GitHub release with assets and release notes</li> <li>Update manifests and Helm charts (for stable releases only)</li> <li>Publish Helm chart to OCI registry</li> </ol>"},{"location":"developer-guide/release-process/#release-workflow-details","title":"Release Workflow Details","text":""},{"location":"developer-guide/release-process/#what-gets-built-and-published","title":"What Gets Built and Published","text":"<p>The release workflow creates and publishes:</p> <ul> <li>Docker Images: </li> <li><code>ghcr.io/bbdsoftware/litellm-operator:{version}</code> (multi-arch: amd64, arm64)</li> <li><code>ghcr.io/bbdsoftware/litellm-operator:latest</code> (multi-arch: amd64, arm64)</li> <li>For pre-releases: additional <code>{major}.{minor}-prerelease</code> tags</li> <li>Binary Assets: For Linux amd64 and arm64 platforms</li> <li>Source Archives: Complete source code archives</li> <li>Helm Chart: Published to <code>ghcr.io/bbdsoftware/charts/litellm-operator</code></li> </ul>"},{"location":"developer-guide/release-process/#automated-manifest-updates","title":"Automated Manifest Updates","text":"<p>For stable releases (not pre-releases), the workflow automatically updates:</p> <ol> <li>Operator Image Tag: <code>config/manager/kustomization.yaml</code></li> <li>Helm Chart Version: <code>deploy/charts/litellm-operator/Chart.yaml</code></li> <li>Helm Chart AppVersion: <code>deploy/charts/litellm-operator/Chart.yaml</code></li> </ol> <p>The workflow uses a GitHub App for authentication to commit changes directly to the main branch.</p>"},{"location":"developer-guide/release-process/#release-types","title":"Release Types","text":""},{"location":"developer-guide/release-process/#stable-releases","title":"Stable Releases","text":"<p>Stable releases (e.g., <code>v1.0.0</code>) trigger the full workflow including: - \u2705 Tests and validation - \u2705 Image building and publishing - \u2705 GitHub release creation - \u2705 Manifest updates - \u2705 Helm chart publication</p>"},{"location":"developer-guide/release-process/#pre-releases","title":"Pre-releases","text":"<p>Pre-releases (e.g., <code>v1.0.0-rc.1</code>, <code>v1.0.0-beta.1</code>, <code>v1.0.0-alpha.1</code>) skip manifest updates: - \u2705 Tests and validation - \u2705 Image building and publishing - \u2705 GitHub release creation (marked as pre-release) - \u274c Manifest updates (skipped) - \u2705 Helm chart publication</p>"},{"location":"developer-guide/release-process/#release-workflow-jobs","title":"Release Workflow Jobs","text":""},{"location":"developer-guide/release-process/#1-run-tests-run-tests","title":"1. Run Tests (<code>run-tests</code>)","text":"<ul> <li>Runs unit tests with <code>make test</code></li> <li>Performs linting with golangci-lint</li> <li>Ensures code quality before release</li> <li>Uses Ubuntu latest runner</li> </ul>"},{"location":"developer-guide/release-process/#2-build-and-release-build-and-release","title":"2. Build and Release (<code>build-and-release</code>)","text":"<ul> <li>Validates semantic versioning using <code>matt-usurp/validate-semver@v2</code></li> <li>Determines release type (stable vs pre-release)</li> <li>Builds multi-architecture Docker images using Docker Buildx</li> <li>Generates CRDs and combines them into <code>dist/crds.yaml</code></li> <li>Runs GoReleaser to create GitHub release</li> <li>Outputs release type information for downstream jobs</li> <li>Uses different GoReleaser configs for stable vs pre-releases</li> </ul>"},{"location":"developer-guide/release-process/#3-update-manifests-update-manifests","title":"3. Update Manifests (<code>update-manifests</code>)","text":"<ul> <li>Only runs for stable releases</li> <li>Uses GitHub App authentication for secure access</li> <li>Updates operator image tags in kustomization files</li> <li>Runs <code>make helm-gen</code> to regenerate Helm chart from Kustomize</li> <li>Updates Helm chart version and appVersion</li> <li>Commits changes directly to main branch using <code>EndBug/add-and-commit@v9</code></li> <li>Publishes Helm chart to OCI registry using <code>appany/helm-oci-chart-releaser@v0.5.0</code></li> </ul>"},{"location":"developer-guide/release-process/#goreleaser-configuration","title":"GoReleaser Configuration","text":"<p>The project uses different GoReleaser configurations:</p> <ul> <li><code>.goreleaser.yml</code>: For stable releases</li> <li><code>.goreleaser.prerelease.yml</code>: For pre-releases (alpha, beta, rc)</li> </ul> <p>Key differences in pre-release configuration: - Additional pre-release specific Docker tags - Pre-release flag set to true - Different release notes template - Additional build labels</p>"},{"location":"developer-guide/release-process/#installation-instructions","title":"Installation Instructions","text":""},{"location":"developer-guide/release-process/#using-helm-recommended","title":"Using Helm (Recommended)","text":"<pre><code># Authenticate with GitHub Container Registry\nhelm registry login ghcr.io -u YOUR_GITHUB_USERNAME -p YOUR_GITHUB_TOKEN\n\n# Install the operator from OCI registry\nhelm install litellm-operator oci://ghcr.io/bbdsoftware/charts/litellm-operator --version v1.0.0\n</code></pre>"},{"location":"developer-guide/release-process/#using-kubectl","title":"Using kubectl","text":"<pre><code># Install CRDs using kustomize\nkubectl apply -k https://github.com/bbdsoftware/litellm-operator/config/crd\n\n# Install the operator using kustomize\nkubectl apply -k https://github.com/bbdsoftware/litellm-operator/config/default\n</code></pre>"},{"location":"developer-guide/release-process/#troubleshooting","title":"Troubleshooting","text":""},{"location":"developer-guide/release-process/#common-issues","title":"Common Issues","text":""},{"location":"developer-guide/release-process/#workflow-fails-on-tag-push","title":"Workflow Fails on Tag Push","text":"<p>Problem: Release workflow fails immediately after pushing a tag.</p> <p>Solutions: 1. Check that the tag follows semantic versioning: <code>v1.0.0</code> 2. Ensure the tag doesn't already exist 3. Verify GitHub Actions are enabled for the repository 4. Check that the tag doesn't match path-ignore patterns (docs, README, etc.) 5. Verify the workflow has proper permissions (contents, packages, id-token, pull-requests)</p>"},{"location":"developer-guide/release-process/#manifest-updates-fail","title":"Manifest Updates Fail","text":"<p>Problem: Release completes but manifest updates are incorrect.</p> <p>Solutions: 1. Check GitHub App authentication is properly configured 2. Verify the workflow has proper permissions for the GitHub App 3. Review the workflow logs for sed/kustomize errors 4. Check that the version extraction is working correctly 5. Verify the file paths in the workflow 6. Check that <code>make helm-gen</code> completed successfully</p>"},{"location":"developer-guide/release-process/#helm-chart-not-published","title":"Helm Chart Not Published","text":"<p>Problem: Release completes but Helm chart is not available in OCI registry.</p> <p>Solutions: 1. Check the helm-publish workflow logs 2. Verify GitHub Container Registry permissions 3. Ensure the chart version is correctly extracted from Chart.yaml 4. Check that the OCI registry path is correct (<code>ghcr.io/bbdsoftware/charts/</code>)</p>"},{"location":"developer-guide/release-process/#tests-fail","title":"Tests Fail","text":"<p>Problem: Release workflow fails during the test phase.</p> <p>Solutions: 1. Run <code>make test</code> locally to reproduce the issue 2. Check for linting errors with golangci-lint 3. Ensure all dependencies are properly installed 4. Verify Go version compatibility (workflow uses Go 1.21)</p>"},{"location":"developer-guide/release-process/#rollback-process","title":"Rollback Process","text":"<p>If a release needs to be rolled back:</p> <ol> <li> <p>Delete the release tag:    <pre><code>git tag -d v1.0.0\ngit push origin :refs/tags/v1.0.0\n</code></pre></p> </li> <li> <p>Delete the GitHub release (via GitHub UI)</p> </li> <li> <p>Revert the manifest changes if they were committed:    <pre><code>git revert &lt;commit-hash&gt;\ngit push origin main\n</code></pre></p> </li> <li> <p>Create a new release with the correct version</p> </li> </ol>"},{"location":"developer-guide/release-process/#best-practices","title":"Best Practices","text":""},{"location":"developer-guide/release-process/#versioning-strategy","title":"Versioning Strategy","text":"<ul> <li>Use semantic versioning: <code>MAJOR.MINOR.PATCH</code></li> <li>Increment patch for bug fixes</li> <li>Increment minor for new features</li> <li>Increment major for breaking changes</li> <li>Use pre-release suffixes for testing: <code>-alpha.1</code>, <code>-beta.1</code>, <code>-rc.1</code></li> </ul>"},{"location":"developer-guide/release-process/#release-notes","title":"Release Notes","text":"<ul> <li>Update <code>CHANGELOG.md</code> before creating a release</li> <li>Include all significant changes</li> <li>Reference issues and pull requests</li> <li>Provide migration notes for breaking changes</li> <li>GoReleaser will automatically generate release notes from commits</li> </ul>"},{"location":"developer-guide/release-process/#testing","title":"Testing","text":"<ul> <li>Test the release process in a staging environment</li> <li>Verify the operator works with the new image</li> <li>Test Helm chart installation and upgrades</li> <li>Validate CRD compatibility</li> <li>Test pre-release versions before stable releases</li> </ul>"},{"location":"developer-guide/release-process/#communication","title":"Communication","text":"<ul> <li>Announce releases in your team communication channels</li> <li>Update documentation if needed</li> <li>Notify users of breaking changes well in advance</li> <li>Use pre-releases for major changes to gather feedback</li> </ul>"},{"location":"developer-guide/release-process/#configuration","title":"Configuration","text":""},{"location":"developer-guide/release-process/#workflow-configuration","title":"Workflow Configuration","text":"<p>The release workflow is configured in <code>.github/workflows/release.yml</code> and includes:</p> <ul> <li>Permissions: <code>contents: write</code>, <code>packages: write</code>, <code>id-token: write</code>, <code>pull-requests: write</code></li> <li>GoReleaser configuration: <code>.goreleaser.yml</code> and <code>.goreleaser.prerelease.yml</code></li> <li>Docker build settings: Multi-platform builds (amd64, arm64) using Docker Buildx</li> <li>Helm chart updates: Automatic version bumping and regeneration</li> <li>GitHub App authentication: For secure manifest updates</li> </ul>"},{"location":"developer-guide/release-process/#helm-chart-generation","title":"Helm Chart Generation","text":"<p>The Helm chart is automatically generated from Kustomize output using: - <code>make helm-gen</code>: Regenerates the Helm chart from Kustomize manifests - Chart is published to OCI registry automatically using <code>appany/helm-oci-chart-releaser@v0.5.0</code></p>"},{"location":"developer-guide/release-process/#github-app-setup","title":"GitHub App Setup","text":"<p>The workflow uses a GitHub App for authentication to commit changes. Ensure the following secrets are configured:</p> <ul> <li><code>LITELLM_OPERATOR_BOT_APP_ID</code>: The GitHub App ID</li> <li><code>LITELLM_OPERATOR_BOT_PRIVATE_KEY</code>: The GitHub App private key</li> </ul>"},{"location":"developer-guide/release-process/#customization","title":"Customization","text":"<p>To customize the release process:</p> <ol> <li>Modify <code>.goreleaser.yml</code> for build configuration</li> <li>Update the workflow for different release steps</li> <li>Adjust Helm chart settings in <code>deploy/charts/litellm-operator/Chart.yaml</code></li> <li>Modify manifest paths in the workflow</li> <li>Update Helm chart generation in the Makefile</li> </ol>"},{"location":"developer-guide/release-process/#support","title":"Support","text":"<p>If you encounter issues with the release process:</p> <ol> <li>Check the GitHub Actions logs</li> <li>Review the GoReleaser documentation</li> <li>Consult the GitHub Actions documentation</li> <li>Check the Helm OCI documentation</li> <li>Open an issue in the repository for persistent problems </li> </ol>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide will help you install the LiteLLM Operator in your Kubernetes cluster.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing the operator, ensure you have:</p> <ul> <li>Kubernetes v1.11.3+ - A running Kubernetes cluster</li> <li>kubectl v1.11.3+ - Configured to access your cluster</li> <li>Go v1.22.0+ - For building from source (optional)</li> <li>Docker v17.03+ - For building container images (optional)</li> </ul>"},{"location":"getting-started/installation/#quick-installation","title":"Quick Installation","text":""},{"location":"getting-started/installation/#1-install-the-operator","title":"1. Install the operator","text":""},{"location":"getting-started/installation/#helm","title":"Helm","text":"<pre><code>helm install --namespace litellm litellm-operator oci://ghcr.io/bbdsoftware/charts/litellm-operator:&lt;version&gt;\n</code></pre>"},{"location":"getting-started/installation/#kustomize","title":"Kustomize","text":"<pre><code>kubectl --namespace litellm apply -k config/default\n</code></pre>"},{"location":"getting-started/installation/#2-verify-installation","title":"2. Verify Installation","text":"<p>Check that the operator is running:</p> <pre><code>kubectl get pods --namespace litellm\n</code></pre> <p>You should see the operator pod in <code>Running</code> status.</p>"},{"location":"getting-started/installation/#installation-from-source","title":"Installation from Source","text":""},{"location":"getting-started/installation/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/bbdsoftware/litellm-operator.git\ncd litellm-operator\n</code></pre>"},{"location":"getting-started/installation/#2-build-and-push-image","title":"2. Build and Push Image","text":"<pre><code>make docker-build docker-push IMG=&lt;your-registry&gt;/litellm-operator:tag\n</code></pre>"},{"location":"getting-started/installation/#3-install-crds","title":"3. Install CRDs","text":"<pre><code>make install\n</code></pre>"},{"location":"getting-started/installation/#4-deploy-operator","title":"4. Deploy Operator","text":"<pre><code>make deploy IMG=&lt;your-registry&gt;/litellm-operator:tag\n</code></pre>"},{"location":"getting-started/installation/#configuration","title":"Configuration","text":""},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"<p>The operator supports the following environment variables:</p> Variable Description Default <code>LITELLM_BASE_URL</code> Base URL for LiteLLM API <code>http://litellm:4000</code> <code>LITELLM_API_KEY</code> API key for LiteLLM authentication Required <code>METRICS_BIND_ADDRESS</code> Address for metrics server <code>:8080</code> <code>HEALTH_PROBE_BIND_ADDRESS</code> Address for health probes <code>:8081</code>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":"<p>Permission Denied Errors - Ensure you have cluster-admin privileges - Check RBAC configuration</p> <p>Image Pull Errors - Verify the image registry is accessible - Check image tag and repository URL</p> <p>CRD Installation Failures - Ensure you have permission to create CRDs - Check for existing CRDs that might conflict</p>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<ul> <li>Check the troubleshooting guide</li> <li>View operator logs: <code>kubectl logs -n litellm deployment/litellm-operator-controller-manager</code></li> <li>Submit an issue on GitHub</li> </ul>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Once installed, proceed to the Quick Start Guide to create your first resources. </p>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide will walk you through creating your first LiteLLM resources using the operator, focusing on setting up a LiteLLM Instance and creating a standalone virtual key.</p>"},{"location":"getting-started/quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>LiteLLM Operator installed in your cluster</li> <li>PostgreSQL database accessible from your cluster</li> <li>Redis instance accessible from your cluster</li> <li><code>kubectl</code> access to your cluster</li> </ul>"},{"location":"getting-started/quickstart/#optional-deploy-postgresql-using-cloudnativepg-operator","title":"Optional: Deploy PostgreSQL using CloudNativePG Operator","text":"<p>If you don't have an existing PostgreSQL database, you can deploy one using the CloudNativePG operator. This provides a cloud-native, production-ready PostgreSQL solution for Kubernetes.</p>"},{"location":"getting-started/quickstart/#install-cloudnativepg-operator","title":"Install CloudNativePG Operator","text":"<pre><code># Install the CloudNativePG operator\nkubectl apply -f https://raw.githubusercontent.com/cloudnative-pg/cloudnative-pg/release-1.21/releases/cnpg-1.21.0.yaml\n</code></pre>"},{"location":"getting-started/quickstart/#deploy-postgresql-cluster","title":"Deploy PostgreSQL Cluster","text":"<p>Create a PostgreSQL cluster for LiteLLM:</p> <pre><code># postgres-cluster.yaml\napiVersion: postgresql.cnpg.io/v1\nkind: Cluster\nmetadata:\n  name: litellm-postgres\n  namespace: litellm\nspec:\n  instances: 1\n\n  postgresql:\n    parameters:\n      max_connections: '200'\n      shared_buffers: '256MB'\n      effective_cache_size: '1GB'\n\n  bootstrap:\n    initdb:\n      database: litellm\n      owner: litellm\n      secret:\n        name: litellm-postgres-credentials\n\n  storage:\n    size: 10Gi\n    storageClass: 'standard' # Adjust based on your cluster's storage classes\n\n  resources:\n    requests:\n      memory: '512Mi'\n      cpu: '500m'\n    limits:\n      memory: '1Gi'\n      cpu: '1000m'\n\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: litellm-postgres-credentials\n  namespace: litellm\ntype: Opaque\ndata:\n  username: bGl0ZWxsbQ== # litellm\n  password: cGFzc3dvcmQxMjM= # password123 - Change this!\n</code></pre> <p>Apply the PostgreSQL cluster:</p> <pre><code># Create the litellm namespace if it doesn't exist\nkubectl create namespace litellm\n\n# Deploy PostgreSQL\nkubectl apply -f postgres-cluster.yaml\n</code></pre> <p>Wait for the cluster to be ready:</p> <pre><code># Check cluster status\nkubectl get cluster -n litellm\nkubectl get pods -n litellm\n\n# Wait for all pods to be ready (this may take a few minutes)\nkubectl wait --for=condition=Ready cluster/litellm-postgres -n litellm --timeout=300s\n</code></pre>"},{"location":"getting-started/quickstart/#get-postgresql-connection-details","title":"Get PostgreSQL Connection Details","text":"<p>Once the cluster is ready, get the connection details:</p> <pre><code># Get the PostgreSQL service name\nkubectl get svc -n litellm | grep litellm-postgres\n\n# The service will be named: litellm-postgres-rw (for read-write)\n# The connection details will be:\n# Host: litellm-postgres-rw.litellm.svc.cluster.local\n# Port: 5432\n# Database: litellm\n# Username: litellm\n# Password: password123 (or whatever you set in the secret)\n</code></pre>"},{"location":"getting-started/quickstart/#optional-deploy-redis","title":"Optional: Deploy Redis","text":"<p>The below example deploys a single instance of Redis</p> <pre><code>#redis-deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: redis\nspec:\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      containers:\n        - name: redis\n          image: redis:8.2.0 #For more versions, see https://hub.docker.com/_/redis\n          ports:\n            - containerPort: 6379\n          volumeMounts:\n            - name: redis-storage\n              mountPath: /data\n          env:\n            - name: REDIS_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: redis-secret\n                  key: redis-password\n      volumes:\n        - name: redis-storage\n          persistentVolumeClaim:\n            claimName: redis-pvc\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: redis-service\nspec:\n  selector:\n    app: redis\n  ports:\n    - port: 6379\n      targetPort: 6379\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: redis-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\ntype: Opaque\ndata:\n  # Base64 encoded password (echo -n 'password123' | base64). Change this!\n  redis-password: cGFzc3dvcmQxMjM=\n</code></pre>"},{"location":"getting-started/quickstart/#step-1-create-required-secrets","title":"Step 1: Create Required Secrets","text":"<p>Before creating the LiteLLM Instance, you need to create Kubernetes secrets for database and Redis connections:</p>"},{"location":"getting-started/quickstart/#database-secret","title":"Database Secret","text":"<p>If you deployed PostgreSQL using the CloudNativePG operator from the previous section, use these values:</p> <pre><code># postgres-secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: postgres-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: bGl0ZWxsbS1wb3N0Z3Jlcy1ydy5saXRlbGxtLnN2Yy5jbHVzdGVyLmxvY2Fs # litellm-postgres-rw.litellm.svc.cluster.local\n  password: cGFzc3dvcmQxMjM= # password123 (should match what you set in postgres-cluster.yaml)\n  username: bGl0ZWxsbQ== # litellm\n  dbname: bGl0ZWxsbQ== # litellm\n</code></pre> <p>For an external PostgreSQL database, use your own connection details:</p> <pre><code># postgres-secret.yaml (external database example)\napiVersion: v1\nkind: Secret\nmetadata:\n  name: postgres-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-postgres-host&gt;\n  password: &lt;base64-encoded-postgres-password&gt;\n  username: &lt;base64-encoded-postgres-username&gt;\n  dbname: &lt;base64-encoded-postgres-database-name&gt;\n</code></pre>"},{"location":"getting-started/quickstart/#redis-secret","title":"Redis Secret","text":"<pre><code># redis-secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-redis-host&gt;\n  port: &lt;base64-encoded-redis-port&gt;\n  password: &lt;base64-encoded-redis-password&gt; #should match the password in redis-deployment.yaml\n</code></pre> <p>Apply the secrets:</p> <pre><code>kubectl apply -f postgres-secret.yaml\nkubectl apply -f redis-secret.yaml\n</code></pre>"},{"location":"getting-started/quickstart/#step-2-create-a-litellm-instance","title":"Step 2: Create a LiteLLM Instance","text":"<p>Create the core LiteLLM Instance that will manage your proxy server:</p> <pre><code># litellm-instance.yaml\napiVersion: litellm.litellm.ai/v1alpha1\nkind: LiteLLMInstance\nmetadata:\n  name: litellm-example\n  namespace: litellm\nspec:\n  redisSecretRef:\n    nameRef: redis-secret\n    keys:\n      hostSecret: host\n      portSecret: port\n      passwordSecret: password\n  databaseSecretRef:\n    nameRef: postgres-secret\n    keys:\n      hostSecret: host\n      passwordSecret: password\n      usernameSecret: username\n      dbnameSecret: dbname\n</code></pre> <p>Apply the LiteLLM Instance:</p> <pre><code>kubectl apply -f litellm-instance.yaml\n</code></pre> <p>Verify the instance is created and running:</p> <pre><code>kubectl get litellminstances\nkubectl describe litellminstance litellm-example\n</code></pre>"},{"location":"getting-started/quickstart/#step-3-create-a-standalone-virtual-key","title":"Step 3: Create a Standalone Virtual Key","text":"<p>Create a virtual key for API access to your LiteLLM proxy:</p> <pre><code># virtualkey-example.yaml\napiVersion: auth.litellm.ai/v1alpha1\nkind: VirtualKey\nmetadata:\n  name: example-service\nspec:\n  keyAlias: example-service\n  models:\n    - gpt-4o\n  maxBudget: '10'\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre> <p>Apply the virtual key:</p> <pre><code>kubectl apply -f virtualkey-example.yaml\n</code></pre> <p>Verify the virtual key was created:</p> <pre><code>kubectl get virtualkeys\n</code></pre>"},{"location":"getting-started/quickstart/#step-4-verify-everything","title":"Step 4: Verify Everything","text":"<p>Check that all resources are created and ready:</p> <pre><code># Check all resources\nkubectl get litellminstances,virtualkeys\n\n# Get detailed status\nkubectl describe litellminstance litellm-example\nkubectl describe virtualkey example-service\n</code></pre>"},{"location":"getting-started/quickstart/#using-the-virtual-key","title":"Using the Virtual Key","text":"<p>Once created, the virtual key can be retrieved from the resource status and used to authenticate with the LiteLLM proxy:</p>"},{"location":"getting-started/quickstart/#get-the-virtual-key-value","title":"Get the Virtual Key Value","text":"<pre><code># Get the virtual key value\nKEY_SECRET=$(kubectl get virtualkey example-service -o jsonpath='{.status.keySecretRef}')\n\nKEY=$(kubectl get secret $KEY_SECRET -o jsonpath='{.data.key}' | base64 -d)\n</code></pre>"},{"location":"getting-started/quickstart/#make-api-calls","title":"Make API Calls","text":"<p>Use the key in your API calls:</p> <pre><code># Set the key as a variable\nKEY_SECRET=$(kubectl get virtualkey example-service -o jsonpath='{.status.keySecretRef}')\n\nKEY=$(kubectl get secret $KEY_SECRET -o jsonpath='{.data.key}' | base64 -d)\n\n# Make an API call\ncurl -X POST \"http://your-litellm-endpoint/chat/completions\" \\\n  -H \"Authorization: Bearer $KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"gpt-4o\",\n    \"messages\": [\n      {\n        \"role\": \"system\",\n        \"content\": \"You are a helpful software engineer. Guide the user through the solution step by step.\"\n      },\n      {\n        \"role\": \"user\",\n        \"content\": \"How can I create a Kubernetes operator?\"\n      }\n    ]\n  }'\n</code></pre>"},{"location":"getting-started/quickstart/#complete-example-file","title":"Complete Example File","text":"<p>You can also create all resources in a single file:</p> <pre><code># complete-example.yaml\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: postgres-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-postgres-host&gt;\n  password: &lt;base64-encoded-postgres-password&gt;\n  username: &lt;base64-encoded-postgres-username&gt;\n  dbname: &lt;base64-encoded-postgres-database-name&gt;\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-redis-host&gt;\n  port: &lt;base64-encoded-redis-port&gt;\n  password: &lt;base64-encoded-redis-password&gt;\n---\napiVersion: litellm.litellm.ai/v1alpha1\nkind: LiteLLMInstance\nmetadata:\n  name: litellm-example\n  namespace: litellm\nspec:\n  redisSecretRef:\n    nameRef: redis-secret\n    keys:\n      hostSecret: host\n      portSecret: port\n      passwordSecret: password\n  databaseSecretRef:\n    nameRef: postgres-secret\n    keys:\n      hostSecret: host\n      passwordSecret: password\n      usernameSecret: username\n      dbnameSecret: dbname\n---\napiVersion: auth.litellm.ai/v1alpha1\nkind: VirtualKey\nmetadata:\n  name: example-service\nspec:\n  keyAlias: example-service\n  models:\n    - gpt-4o\n  maxBudget: '10'\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre> <p>Apply everything at once:</p> <pre><code>kubectl apply -f complete-example.yaml\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Learn more about LiteLLM Instances</li> <li>Explore Virtual Keys</li> <li>Understand User Management and Team Management</li> <li>Check out sample configurations</li> </ul>"},{"location":"getting-started/quickstart/#cleanup","title":"Cleanup","text":"<p>To remove all resources created in this guide:</p> <pre><code>kubectl delete virtualkey example-service\nkubectl delete litellminstance litellm-example\nkubectl delete secret redis-secret\nkubectl delete secret postgres-secret\n</code></pre>"},{"location":"user-guide/litellm-instances/","title":"LiteLLM Instances","text":"<p>LiteLLM Instances are the core resources that deploy and manage LiteLLM proxy servers in your Kubernetes cluster. They provide the infrastructure for authentication, model routing, and API management.</p>"},{"location":"user-guide/litellm-instances/#overview","title":"Overview","text":"<p>LiteLLM Instance resources in the LiteLLM Operator provide:</p> <ul> <li>Proxy Deployment - Deploy LiteLLM proxy servers in Kubernetes</li> <li>Database Integration - Connect to PostgreSQL databases for user management</li> <li>Redis Caching - Configure Redis for session and cache management</li> <li>Network Access - Set up ingress and gateway configurations</li> <li>Resource Management - Manage deployments, services, and secrets</li> </ul>"},{"location":"user-guide/litellm-instances/#creating-litellm-instances","title":"Creating LiteLLM Instances","text":""},{"location":"user-guide/litellm-instances/#basic-instance","title":"Basic Instance","text":"<pre><code>apiVersion: litellm.litellm.ai/v1alpha1\nkind: LiteLLMInstance\nmetadata:\n  name: litellm-example\n  namespace: litellm\nspec:\n  redisSecretRef:\n    nameRef: redis-secret\n    keys:\n      hostSecret: host\n      portSecret: port\n      passwordSecret: password\n  databaseSecretRef:\n    nameRef: postgres-secret\n    keys:\n      hostSecret: host\n      passwordSecret: password\n      usernameSecret: username\n      dbnameSecret: dbname\n</code></pre>"},{"location":"user-guide/litellm-instances/#advanced-instance-with-ingress-and-gateway","title":"Advanced Instance with Ingress and Gateway","text":"<pre><code>apiVersion: litellm.litellm.ai/v1alpha1\nkind: LiteLLMInstance\nmetadata:\n  name: litellm-production\n  namespace: litellm\nspec:\n  image: \"ghcr.io/berriai/litellm-database:main-v1.74.9.rc.1\"\n  masterKey: \"sk-1234567890abcdef\"\n  redisSecretRef:\n    nameRef: redis-production\n    keys:\n      hostSecret: host\n      portSecret: port\n      passwordSecret: password\n  databaseSecretRef:\n    nameRef: postgres-production\n    keys:\n      hostSecret: host\n      passwordSecret: password\n      usernameSecret: username\n      dbnameSecret: dbname\n  ingress:\n    enabled: true\n    host: \"api.litellm.example.com\"\n  gateway:\n    enabled: true\n    host: \"gateway.litellm.example.com\"\n</code></pre>"},{"location":"user-guide/litellm-instances/#specification-reference","title":"Specification Reference","text":"Field Type Description Required <code>image</code> string LiteLLM Docker image No (default: ghcr.io/berriai/litellm-database:main-v1.74.9.rc.1) <code>masterKey</code> string Master API key for the instance No <code>databaseSecretRef</code> object PostgreSQL database configuration No <code>redisSecretRef</code> object Redis cache configuration No <code>ingress</code> object Kubernetes ingress configuration No <code>gateway</code> object Gateway configuration No"},{"location":"user-guide/litellm-instances/#database-configuration","title":"Database Configuration","text":"Field Type Description Required <code>nameRef</code> string Name of the Kubernetes secret containing database credentials Yes <code>keys.hostSecret</code> string Secret key containing database host Yes <code>keys.passwordSecret</code> string Secret key containing database password Yes <code>keys.usernameSecret</code> string Secret key containing database username Yes <code>keys.dbnameSecret</code> string Secret key containing database name Yes"},{"location":"user-guide/litellm-instances/#redis-configuration","title":"Redis Configuration","text":"Field Type Description Required <code>nameRef</code> string Name of the Kubernetes secret containing Redis credentials Yes <code>keys.hostSecret</code> string Secret key containing Redis host Yes <code>keys.portSecret</code> int Secret key containing Redis port Yes <code>keys.passwordSecret</code> string Secret key containing Redis password Yes"},{"location":"user-guide/litellm-instances/#ingress-configuration","title":"Ingress Configuration","text":"Field Type Description Required <code>enabled</code> boolean Whether to enable ingress No (default: false) <code>host</code> string Hostname for the ingress Yes (if enabled)"},{"location":"user-guide/litellm-instances/#gateway-configuration","title":"Gateway Configuration","text":"Field Type Description Required <code>enabled</code> boolean Whether to enable gateway No (default: false) <code>host</code> string Hostname for the gateway Yes (if enabled)"},{"location":"user-guide/litellm-instances/#managing-litellm-instances","title":"Managing LiteLLM Instances","text":""},{"location":"user-guide/litellm-instances/#list-instances","title":"List Instances","text":"<pre><code>kubectl get litellminstances\n</code></pre>"},{"location":"user-guide/litellm-instances/#get-instance-details","title":"Get Instance Details","text":"<pre><code>kubectl describe litellminstance litellm-example\n</code></pre>"},{"location":"user-guide/litellm-instances/#check-instance-status","title":"Check Instance Status","text":"<pre><code>kubectl get litellminstance litellm-example -o yaml\n</code></pre>"},{"location":"user-guide/litellm-instances/#update-instance-configuration","title":"Update Instance Configuration","text":"<pre><code>kubectl patch litellminstance litellm-example --type='merge' -p='{\"spec\":{\"masterKey\":\"sk-new-key\"}}'\n</code></pre>"},{"location":"user-guide/litellm-instances/#delete-an-instance","title":"Delete an Instance","text":"<pre><code>kubectl delete litellminstance litellm-example\n</code></pre>"},{"location":"user-guide/litellm-instances/#status-information","title":"Status Information","text":"<p>The LiteLLM Instance status provides information about the deployment:</p> <pre><code>kubectl get litellminstance litellm-example -o jsonpath='{.status}'\n</code></pre>"},{"location":"user-guide/litellm-instances/#status-fields","title":"Status Fields","text":"<ul> <li><code>observedGeneration</code> - Generation of the spec that was last observed</li> <li><code>lastUpdated</code> - Timestamp of last status update</li> <li><code>configMapCreated</code> - Whether the ConfigMap was created</li> <li><code>secretCreated</code> - Whether the Secret was created</li> <li><code>deploymentCreated</code> - Whether the Deployment was created</li> <li><code>serviceCreated</code> - Whether the Service was created</li> <li><code>ingressCreated</code> - Whether the Ingress was created</li> <li><code>conditions</code> - Array of condition objects</li> </ul>"},{"location":"user-guide/litellm-instances/#prerequisites","title":"Prerequisites","text":""},{"location":"user-guide/litellm-instances/#required-secrets","title":"Required Secrets","text":"<p>Before creating a LiteLLM Instance, ensure you have the necessary Kubernetes secrets:</p>"},{"location":"user-guide/litellm-instances/#database-secret","title":"Database Secret","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: postgres-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-host&gt;\n  password: &lt;base64-encoded-password&gt;\n  username: &lt;base64-encoded-username&gt;\n  dbname: &lt;base64-encoded-database-name&gt;\n</code></pre>"},{"location":"user-guide/litellm-instances/#redis-secret","title":"Redis Secret","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\n  namespace: litellm\ntype: Opaque\ndata:\n  host: &lt;base64-encoded-host&gt;\n  port: &lt;base64-encoded-port&gt;\n  password: &lt;base64-encoded-password&gt;\n</code></pre>"},{"location":"user-guide/litellm-instances/#database-setup","title":"Database Setup","text":"<p>Ensure your PostgreSQL database is accessible and contains the necessary tables for LiteLLM:</p> <ul> <li>User management tables</li> <li>Team management tables</li> <li>Virtual key tables</li> <li>Usage tracking tables</li> </ul>"},{"location":"user-guide/litellm-instances/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/litellm-instances/#security","title":"Security","text":"<ul> <li>Use strong master keys for production instances</li> <li>Store sensitive credentials in Kubernetes secrets</li> <li>Enable TLS for database and Redis connections</li> <li>Use network policies to restrict access</li> </ul>"},{"location":"user-guide/litellm-instances/#performance","title":"Performance","text":"<ul> <li>Use dedicated Redis instances for caching</li> <li>Configure appropriate resource limits</li> <li>Monitor database connection pools</li> <li>Set up proper backup strategies</li> </ul>"},{"location":"user-guide/litellm-instances/#monitoring","title":"Monitoring","text":"<ul> <li>Enable ingress for external access</li> <li>Set up monitoring and alerting</li> <li>Track resource usage and costs</li> <li>Monitor API usage patterns</li> </ul>"},{"location":"user-guide/litellm-instances/#organisation","title":"Organisation","text":"<ul> <li>Use descriptive names for instances</li> <li>Organise instances by environment (dev, staging, prod)</li> <li>Document configuration changes</li> <li>Maintain consistent naming conventions</li> </ul>"},{"location":"user-guide/litellm-instances/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/litellm-instances/#common-issues","title":"Common Issues","text":"<p>Instance Not Starting - Check that all required secrets exist - Verify database connectivity - Ensure Redis is accessible - Check resource limits and quotas</p> <p>Database Connection Issues - Verify secret keys match the configuration - Check database host and port - Ensure database user has proper permissions - Verify network policies allow connections</p> <p>Redis Connection Issues - Check Redis host and port configuration - Verify Redis password in secret - Ensure Redis is running and accessible - Check network connectivity</p> <p>Ingress Not Working - Verify ingress controller is installed - Check hostname configuration - Ensure TLS certificates are valid - Verify ingress annotations are correct</p>"},{"location":"user-guide/litellm-instances/#integration-with-other-resources","title":"Integration with Other Resources","text":"<p>LiteLLM Instances are referenced by other resources:</p>"},{"location":"user-guide/litellm-instances/#users-teams-and-virtual-keys","title":"Users, Teams, and Virtual Keys","text":"<p>All authentication resources reference the LiteLLM Instance:</p> <pre><code>connectionRef:\n  instanceRef:\n    name: litellm-example\n    namespace: litellm\n</code></pre>"},{"location":"user-guide/litellm-instances/#complete-example","title":"Complete Example","text":"<pre><code># 1. Create the LiteLLM Instance\napiVersion: litellm.litellm.ai/v1alpha1\nkind: LiteLLMInstance\nmetadata:\n  name: litellm-example\n  namespace: litellm\nspec:\n  redisSecretRef:\n    nameRef: redis-secret\n    keys:\n      hostSecret: host\n      portSecret: port\n      passwordSecret: password\n  databaseSecretRef:\n    nameRef: postgres-secret\n    keys:\n      hostSecret: host\n      passwordSecret: password\n      usernameSecret: username\n      dbnameSecret: dbname\n---\n# 2. Create a User that references the instance\napiVersion: auth.litellm.ai/v1alpha1\nkind: User\nmetadata:\n  name: alice\nspec:\n  userEmail: \"alice@example.com\"\n  userAlias: \"alice\"\n  userRole: \"customer\"\n  keyAlias: \"alice-key\"\n  autoCreateKey: true\n  models:\n    - \"gpt-4o\"\n  maxBudget: \"10\"\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/litellm-instances/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Users, Teams, and Virtual Keys</li> <li>Set up monitoring and alerting</li> <li>Configure network policies</li> <li>Review security best practices </li> </ul>"},{"location":"user-guide/team-member-associations/","title":"Team Member Associations","text":"<p>Team Member Associations define the relationship between users and teams, including roles and permissions within each team.</p>"},{"location":"user-guide/team-member-associations/#overview","title":"Overview","text":"<p>Team Member Association resources in the LiteLLM Operator provide:</p> <ul> <li>User-Team Linking - Connect users to specific teams</li> <li>Role Management - Define user roles within teams</li> <li>Permission Control - Manage team-specific access rights</li> <li>Team Organisation - Structure team hierarchies and responsibilities</li> </ul>"},{"location":"user-guide/team-member-associations/#creating-team-member-associations","title":"Creating Team Member Associations","text":""},{"location":"user-guide/team-member-associations/#basic-association","title":"Basic Association","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: TeamMemberAssociation\nmetadata:\n  name: alice-ai-team\nspec:\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n  role: admin\n  teamAlias: ai-team\n  userEmail: alice@example.com\n</code></pre>"},{"location":"user-guide/team-member-associations/#member-association","title":"Member Association","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: TeamMemberAssociation\nmetadata:\n  name: bob-ai-team\nspec:\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n  role: member\n  teamAlias: ai-team\n  userEmail: bob@example.com\n</code></pre>"},{"location":"user-guide/team-member-associations/#specification-reference","title":"Specification Reference","text":"Field Type Description Required <code>connectionRef</code> object Reference to LiteLLM instance Yes <code>role</code> string User role within the team (admin, member) Yes <code>teamAlias</code> string Team identifier to associate with Yes <code>userEmail</code> string User's email address Yes"},{"location":"user-guide/team-member-associations/#managing-team-member-associations","title":"Managing Team Member Associations","text":""},{"location":"user-guide/team-member-associations/#list-associations","title":"List Associations","text":"<pre><code>kubectl get teammemberassociations\n</code></pre>"},{"location":"user-guide/team-member-associations/#get-association-details","title":"Get Association Details","text":"<pre><code>kubectl describe teammemberassociation alice-ai-team\n</code></pre>"},{"location":"user-guide/team-member-associations/#update-user-role","title":"Update User Role","text":"<pre><code>kubectl patch teammemberassociation alice-ai-team --type='merge' -p='{\"spec\":{\"role\":\"member\"}}'\n</code></pre>"},{"location":"user-guide/team-member-associations/#remove-user-from-team","title":"Remove User from Team","text":"<pre><code>kubectl delete teammemberassociation alice-ai-team\n</code></pre>"},{"location":"user-guide/team-member-associations/#team-roles","title":"Team Roles","text":""},{"location":"user-guide/team-member-associations/#admin-role","title":"Admin Role","text":"<ul> <li>Can manage team settings and membership</li> <li>Can modify team model access</li> <li>Can view all team member activities</li> <li>Can create and manage team resources</li> </ul>"},{"location":"user-guide/team-member-associations/#member-role","title":"Member Role","text":"<ul> <li>Can access team resources and models</li> <li>Can view team information</li> <li>Cannot modify team settings</li> <li>Limited to personal permissions</li> </ul>"},{"location":"user-guide/team-member-associations/#working-with-teams-and-users","title":"Working with Teams and Users","text":""},{"location":"user-guide/team-member-associations/#prerequisites","title":"Prerequisites","text":"<p>Before creating a Team Member Association, ensure:</p> <ol> <li>Team exists: The team referenced by <code>teamAlias</code> must already exist</li> <li>User exists: The user referenced by <code>userEmail</code> must already exist</li> <li>LiteLLM Instance: The referenced LiteLLM instance must be available</li> </ol>"},{"location":"user-guide/team-member-associations/#complete-workflow-example","title":"Complete Workflow Example","text":"<pre><code># 1. Create the team\napiVersion: auth.litellm.ai/v1alpha1\nkind: Team\nmetadata:\n  name: ai-team\nspec:\n  teamAlias: ai-team\n  models:\n    - gpt-4o\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n---\n# 2. Create the user\napiVersion: auth.litellm.ai/v1alpha1\nkind: User\nmetadata:\n  name: alice\nspec:\n  userEmail: \"alice@example.com\"\n  userAlias: \"alice\"\n  userRole: \"customer\"\n  keyAlias: \"alice-key\"\n  autoCreateKey: true\n  models:\n    - \"gpt-4o\"\n  maxBudget: \"10\"\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n---\n# 3. Associate user with team\napiVersion: auth.litellm.ai/v1alpha1\nkind: TeamMemberAssociation\nmetadata:\n  name: alice-ai-team\nspec:\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n  role: admin\n  teamAlias: ai-team\n  userEmail: alice@example.com\n</code></pre>"},{"location":"user-guide/team-member-associations/#best-practices","title":"Best Practices","text":"<ul> <li>Use descriptive names for associations that include both user and team</li> <li>Start with member roles and promote to admin only when necessary</li> <li>Regularly review team membership and roles</li> <li>Ensure team aliases match exactly between Team and TeamMemberAssociation resources</li> <li>Use consistent email addresses across User and TeamMemberAssociation resources</li> </ul>"},{"location":"user-guide/team-member-associations/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/team-member-associations/#common-issues","title":"Common Issues","text":"<p>Association Not Working - Verify the team exists with the correct <code>teamAlias</code> - Check that the user exists with the correct <code>userEmail</code> - Ensure the LiteLLM instance is running and accessible</p> <p>Role Permissions - Admin roles have full team management capabilities - Member roles have limited access to team resources - Verify role spelling (admin, member)</p>"},{"location":"user-guide/team-member-associations/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Teams and Users</li> <li>Understand Virtual Keys and their usage</li> <li>Set up monitoring and access control</li> </ul>"},{"location":"user-guide/teams/","title":"Teams","text":"<p>Teams provide a way to group users and manage shared resources, permissions, and model access in your LiteLLM system.</p>"},{"location":"user-guide/teams/#overview","title":"Overview","text":"<p>Team resources in the LiteLLM Operator provide:</p> <ul> <li>Group Management - Organise users into logical groups</li> <li>Shared Model Access - Define which models team members can use</li> <li>Resource Sharing - Share LiteLLM instances across team members</li> <li>Permission Management - Control team-level access and permissions</li> </ul>"},{"location":"user-guide/teams/#creating-teams","title":"Creating Teams","text":""},{"location":"user-guide/teams/#basic-team","title":"Basic Team","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: Team\nmetadata:\n  name: ai-team\nspec:\n  teamAlias: ai-team\n  models:\n    - gpt-4o\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/teams/#advanced-team-with-multiple-models","title":"Advanced Team with Multiple Models","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: Team\nmetadata:\n  name: research-team\nspec:\n  teamAlias: research-team\n  models:\n    - gpt-4o\n    - claude-3-sonnet\n    - gemini-pro\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/teams/#specification-reference","title":"Specification Reference","text":"Field Type Description Required <code>teamAlias</code> string Unique team identifier Yes <code>models</code> []string Models available to team members No <code>connectionRef</code> object Reference to LiteLLM instance Yes"},{"location":"user-guide/teams/#managing-teams","title":"Managing Teams","text":""},{"location":"user-guide/teams/#list-teams","title":"List Teams","text":"<pre><code>kubectl get teams\n</code></pre>"},{"location":"user-guide/teams/#get-team-details","title":"Get Team Details","text":"<pre><code>kubectl describe team ai-team\n</code></pre>"},{"location":"user-guide/teams/#update-team-models","title":"Update Team Models","text":"<pre><code>kubectl patch team ai-team --type='merge' -p='{\"spec\":{\"models\":[\"gpt-4o\",\"claude-3-sonnet\"]}}'\n</code></pre>"},{"location":"user-guide/teams/#delete-a-team","title":"Delete a Team","text":"<pre><code>kubectl delete team ai-team\n</code></pre>"},{"location":"user-guide/teams/#team-member-associations","title":"Team Member Associations","text":"<p>Teams work in conjunction with Team Member Associations to manage user membership and roles within teams. See Team Member Associations for detailed information.</p>"},{"location":"user-guide/teams/#adding-users-to-teams","title":"Adding Users to Teams","text":"<p>Users are added to teams through Team Member Association resources:</p> <pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: TeamMemberAssociation\nmetadata:\n  name: alice-ai-team\nspec:\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n  role: admin\n  teamAlias: ai-team\n  userEmail: alice@example.com\n</code></pre>"},{"location":"user-guide/teams/#best-practices","title":"Best Practices","text":"<ul> <li>Use descriptive team aliases that reflect the team's purpose</li> <li>Limit model access to only what team members need</li> <li>Regularly review team membership and permissions</li> <li>Use consistent naming conventions across teams</li> <li>Consider team structure when planning user organisation</li> </ul>"},{"location":"user-guide/teams/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Team Member Associations</li> <li>Understand Users and their roles</li> <li>Create Virtual Keys for team members</li> </ul>"},{"location":"user-guide/users/","title":"Users","text":"<p>Users represent individual accounts in your LiteLLM system. They provide the foundation for authentication, authorization, and budget management.</p>"},{"location":"user-guide/users/#overview","title":"Overview","text":"<p>User resources in the LiteLLM Operator provide:</p> <ul> <li>Identity Management - Define user accounts and roles</li> <li>Budget Control - Set spending limits per user</li> <li>Role-Based Access - Assign different permission levels</li> <li>Usage Tracking - Monitor individual user consumption</li> <li>Automatic Key Creation - Generate virtual keys automatically</li> </ul>"},{"location":"user-guide/users/#creating-users","title":"Creating Users","text":""},{"location":"user-guide/users/#basic-user","title":"Basic User","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: User\nmetadata:\n  name: alice\nspec:\n  userEmail: \"alice@example.com\"\n  userAlias: \"alice\"\n  userRole: \"customer\"\n  keyAlias: \"alice-key\"\n  autoCreateKey: true\n  models:\n    - \"gpt-4o\"\n  maxBudget: \"10\"\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/users/#admin-user","title":"Admin User","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: User\nmetadata:\n  name: admin-user\nspec:\n  userEmail: \"admin@example.com\"\n  userAlias: \"admin\"\n  userRole: \"admin\"\n  keyAlias: \"admin-key\"\n  autoCreateKey: true\n  models:\n    - \"gpt-4o\"\n    - \"claude-3-sonnet\"\n  maxBudget: \"1000\"\n  budgetDuration: 30d\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/users/#specification-reference","title":"Specification Reference","text":"Field Type Description Required <code>userEmail</code> string User's email address Yes <code>userAlias</code> string User alias/username Yes <code>userRole</code> string User role (customer, admin) Yes <code>keyAlias</code> string Alias for the virtual key Yes <code>autoCreateKey</code> boolean Automatically create virtual key Yes <code>models</code> []string Allowed models for this user No <code>maxBudget</code> string Maximum spend limit in dollars Yes <code>budgetDuration</code> string Budget duration (e.g., \"1h\", \"30d\") Yes <code>connectionRef</code> object Reference to LiteLLM instance Yes"},{"location":"user-guide/users/#managing-users","title":"Managing Users","text":""},{"location":"user-guide/users/#list-users","title":"List Users","text":"<pre><code>kubectl get users\n</code></pre>"},{"location":"user-guide/users/#get-user-details","title":"Get User Details","text":"<pre><code>kubectl describe user alice\n</code></pre>"},{"location":"user-guide/users/#update-user-budget","title":"Update User Budget","text":"<pre><code>kubectl patch user alice --type='merge' -p='{\"spec\":{\"maxBudget\":\"200\"}}'\n</code></pre>"},{"location":"user-guide/users/#delete-a-user","title":"Delete a User","text":"<pre><code>kubectl delete user alice\n</code></pre>"},{"location":"user-guide/users/#user-roles","title":"User Roles","text":""},{"location":"user-guide/users/#customer-user","title":"Customer User","text":"<ul> <li>Can create virtual keys</li> <li>Limited to personal budget</li> <li>Cannot manage other users</li> <li>Access to specified models only</li> </ul>"},{"location":"user-guide/users/#admin-user_1","title":"Admin User","text":"<ul> <li>Can manage all users and teams</li> <li>Can create system-wide policies</li> <li>Access to admin endpoints</li> <li>Full model access</li> </ul>"},{"location":"user-guide/users/#best-practices","title":"Best Practices","text":"<ul> <li>Use email addresses as user identifiers for consistency</li> <li>Set appropriate budget limits based on usage patterns</li> <li>Use meaningful key aliases for easy identification</li> <li>Enable autoCreateKey for seamless user onboarding</li> <li>Set reasonable budget durations to prevent overspending</li> <li>Regularly review and update user permissions</li> </ul>"},{"location":"user-guide/users/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Teams and Team Member Associations</li> <li>Create Virtual Keys for users</li> <li>Set up user monitoring and alerts </li> </ul>"},{"location":"user-guide/virtual-keys/","title":"Virtual Keys","text":"<p>Virtual Keys are API keys that provide controlled access to your LiteLLM proxy. They enable fine-grained access control with budget limits, model restrictions, and usage monitoring.</p>"},{"location":"user-guide/virtual-keys/#overview","title":"Overview","text":"<p>Virtual Keys in the LiteLLM Operator provide:</p> <ul> <li>Budget Control - Set spending limits per key</li> <li>Model Access - Restrict which models can be used</li> <li>Time Limits - Set expiration dates and budget durations</li> <li>Key Management - Organise keys with aliases for easy identification</li> </ul>"},{"location":"user-guide/virtual-keys/#creating-virtual-keys","title":"Creating Virtual Keys","text":""},{"location":"user-guide/virtual-keys/#basic-virtual-key","title":"Basic Virtual Key","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: VirtualKey\nmetadata:\n  name: example-service\nspec:\n  keyAlias: example-service\n  models:\n    - gpt-4o\n  maxBudget: \"10\"\n  budgetDuration: 1h\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/virtual-keys/#advanced-virtual-key","title":"Advanced Virtual Key","text":"<pre><code>apiVersion: auth.litellm.ai/v1alpha1\nkind: VirtualKey\nmetadata:\n  name: research-key\nspec:\n  keyAlias: research-key\n  models:\n    - gpt-4o\n    - claude-3-sonnet\n    - gemini-pro\n  maxBudget: \"250\"\n  budgetDuration: 30d\n  connectionRef:\n    instanceRef:\n      name: litellm-example\n      namespace: litellm\n</code></pre>"},{"location":"user-guide/virtual-keys/#specification-reference","title":"Specification Reference","text":"Field Type Description Required <code>keyAlias</code> string Unique identifier for the key Yes <code>models</code> []string Allowed models (empty = all models) No <code>maxBudget</code> string Maximum spend limit in dollars Yes <code>budgetDuration</code> string Budget duration (e.g., \"1h\", \"30d\") Yes <code>connectionRef</code> object Reference to LiteLLM instance Yes"},{"location":"user-guide/virtual-keys/#managing-virtual-keys","title":"Managing Virtual Keys","text":""},{"location":"user-guide/virtual-keys/#list-virtual-keys","title":"List Virtual Keys","text":"<pre><code>kubectl get virtualkeys\n</code></pre>"},{"location":"user-guide/virtual-keys/#get-key-details","title":"Get Key Details","text":"<pre><code>kubectl describe virtualkey example-service\n</code></pre>"},{"location":"user-guide/virtual-keys/#get-key-value","title":"Get Key Value","text":"<pre><code>KEY_SECRET=$(kubectl get virtualkey example-service -o jsonpath='{.status.keySecretRef}')\n\nKEY=$(kubectl get secret $KEY_SECRET -o jsonpath='{.data.key}' | base64 -d)\n</code></pre>"},{"location":"user-guide/virtual-keys/#update-a-virtual-key","title":"Update a Virtual Key","text":"<pre><code>kubectl patch virtualkey example-service --type='merge' -p='{\"spec\":{\"maxBudget\":\"200\"}}'\n</code></pre>"},{"location":"user-guide/virtual-keys/#delete-a-virtual-key","title":"Delete a Virtual Key","text":"<pre><code>kubectl delete virtualkey example-service\n</code></pre>"},{"location":"user-guide/virtual-keys/#usage-examples","title":"Usage Examples","text":""},{"location":"user-guide/virtual-keys/#using-the-virtual-key","title":"Using the Virtual Key","text":"<p>Once created, use the virtual key to authenticate with LiteLLM:</p> <pre><code># Get the key value\nKEY_SECRET=$(kubectl get virtualkey example-service -o jsonpath='{.status.keySecretRef}')\n\nKEY=$(kubectl get secret $KEY_SECRET -o jsonpath='{.data.key}' | base64 -d)\n\n# Make API call\ncurl -X POST \"https://your-litellm-proxy.com/chat/completions\" \\\n  -H \"Authorization: Bearer $KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"gpt-4o\",\n    \"messages\": [\n      {\"role\": \"user\", \"content\": \"Hello, world!\"}\n    ]\n  }'\n</code></pre>"},{"location":"user-guide/virtual-keys/#python-example","title":"Python Example","text":"<pre><code>import openai\n\n# Configure client with virtual key\nclient = openai.OpenAI(\n    api_key=\"&lt;your-virtual-key&gt;\",\n    base_url=\"https://your-litellm-proxy.com\"\n)\n\n# Make API call\nresponse = client.chat.completions.create(\n    model=\"gpt-4o\",\n    messages=[{\"role\": \"user\", \"content\": \"Hello!\"}]\n)\n\nprint(response.choices[0].message.content)\n</code></pre>"},{"location":"user-guide/virtual-keys/#monitoring-and-troubleshooting","title":"Monitoring and Troubleshooting","text":""},{"location":"user-guide/virtual-keys/#check-key-status","title":"Check Key Status","text":"<pre><code>kubectl get virtualkey example-service -o yaml\n</code></pre> <p>Look for status fields: - <code>status.keyValue</code> - The actual API key - <code>status.currentSpend</code> - Current usage - <code>status.isActive</code> - Whether key is active - <code>status.expiryDate</code> - When key expires</p>"},{"location":"user-guide/virtual-keys/#common-issues","title":"Common Issues","text":"<p>Key Not Working - Check if key has expired - Verify budget hasn't been exceeded - Ensure LiteLLM instance is running and accessible</p> <p>Budget Exceeded - Check current spend: <code>kubectl get virtualkey example-service -o jsonpath='{.status.currentSpend}'</code> - Increase budget if needed - Monitor usage patterns</p> <p>Model Access Denied - Verify model is in allowed list - Check that the LiteLLM instance has access to the model - Ensure model name matches exactly</p>"},{"location":"user-guide/virtual-keys/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/virtual-keys/#security","title":"Security","text":"<ul> <li>Use descriptive key aliases for easy identification</li> <li>Set appropriate budget limits and durations</li> <li>Monitor key usage regularly</li> <li>Store keys securely in your applications</li> </ul>"},{"location":"user-guide/virtual-keys/#cost-control","title":"Cost Control","text":"<ul> <li>Set realistic budget limits based on expected usage</li> <li>Use model restrictions to prevent expensive model usage</li> <li>Monitor spend across all keys</li> <li>Set up alerts for budget thresholds</li> </ul>"},{"location":"user-guide/virtual-keys/#organisation","title":"Organisation","text":"<ul> <li>Use consistent naming conventions for key aliases</li> <li>Group keys by purpose or team</li> <li>Document key purposes and usage patterns</li> <li>Regularly review and clean up unused keys</li> </ul>"},{"location":"user-guide/virtual-keys/#integration-with-users-and-teams","title":"Integration with Users and Teams","text":"<p>Virtual Keys can be created automatically when users are created (using <code>autoCreateKey: true</code> in User resources) or created independently for service accounts and applications.</p>"},{"location":"user-guide/virtual-keys/#auto-created-keys","title":"Auto-Created Keys","text":"<p>When a User resource has <code>autoCreateKey: true</code>, a Virtual Key is automatically created with: - <code>keyAlias</code> matching the user's <code>keyAlias</code> - Same model access as the user - Same budget and duration settings - Same LiteLLM instance connection</p>"},{"location":"user-guide/virtual-keys/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Users and Teams</li> <li>Set up monitoring and alerts</li> <li>Review security best practices </li> </ul>"}]}